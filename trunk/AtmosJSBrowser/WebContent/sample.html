<!DOCTYPE html>
<!--

 Copyright (c) 2011, EMC Corporation

 All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
 * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
 * Neither the name of the EMC Corporation nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
 INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<html>
<head>
    <meta charset="UTF-8">
    <title>Atmos JS Browser</title>
    <link href="css/reset.css" rel="stylesheet" type="text/css">
    <link href="css/atmos-browser.css" rel="stylesheet" type="text/css">
    <style type="text/css">
        html {
            height: 100%;
        }

        body {
            height: 97%;
            margin: 0;
            padding: 8px;
            background-color: #ddd;
        }

        .main-content {
            width: 100%;
            height: 100%;
        }

        .atmosBrowser {
            width: 100%;
            height: 100%;
            /*
            width: 675px;
            height: 500px;
            */
        }

    </style>
    <!-- Atmos REST API -->
    <script type="text/javascript" src="js/crypto-min.js"></script>
    <!-- Atmos REST API -->
    <script type="text/javascript" src="js/hmac-min.js"></script>
    <!-- Atmos REST API -->
    <script type="text/javascript" src="js/sha1-min.js"></script>
    <!-- Atmos REST API -->
    <script type="text/javascript" src="js/atmos.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
    <script type="text/javascript" src="js/atmos-browser.js"></script>
    <script type="text/javascript" src="js/atmos-templates.js"></script>
    <script type="text/javascript">
        $( document ).ready( function() {

            // crop upload field to size of upload button
            // (even though it's transparent, we don't want it covering other buttons)
            $( '.atmosUploadContainer' ).width( $( '.atmosUploadButton' ).outerWidth( true ) );

            // account for the scrollbar (must be dynamic to support Lion's overlay scrollbars)
            $( '.atmosFileList .head' ).css( 'margin-right', jQuery.scrollbarWidth() + 'px' );

            var browser = new AtmosBrowser( {
                        subtenant: "0bc871f97086456db2e803ccc172ccec",
                        user: "stu",
                        secret: "1ofJI8FYceLBTGvflJutDvc4uwc=",
                        location: "/stu/test"
                    }, {
                        // in-line templates (optional; replaces default templates)
                        modalBackground: $( '.atmosModalBackground' ),
                        modalWindow: $( '.atmosModalWindow' ),
                        loginPage: $( '.atmosLoginPage' ),
                        main: $( '.atmosBrowser' ),
                        fileRow: $( '.atmosFileListTable .row' ),
                        fileRowLoading: $( '.atmosFileListTable .loading' ),
                        statusBar: $( '.atmosStatusBar' ),
                        directoryContextMenu: $( '.atmosDirectoryContextMenu' ),
                        fileContextMenu: $( '.atmosFileContextMenu' ),
                        propertiesPage: $( '.atmosPropertiesPage' ),
                        editablePropertyRow: $( '.atmosUserMetadataTable .row' ),
                        readonlyPropertyRow: $( '.atmosSystemMetadataTable .row' ),
                        sharePage: $( '.atmosSharePage' ),
                        aclPage: $( '.atmosAclPage' ),
                        aclUserRow: $( '.atmosUserAclTable .row' ),
                        aclGroupRow: $( '.atmosGroupAclTable .row' ),
                        directoryPage: $( '.atmosDirectoryPage' ),
                        directoryItem: $( '.atmosDirectoryPage .atmosDirectoryItem' )
                    },
                    $( '.main-content' ) );
        } );
    </script>
</head>
<body>

<div class="main-content">
    <div unselectable="on" class="atmosBrowser">
        <div class="atmosTitleBar">File Manager</div>
        <div class="atmosToolBar">
            <div class="atmosButtonBar">
                <input class="atmosLocationField" type="text"/>

                <div class="atmosButton atmosGoButton" title="Go">Go</div>
                <div class="atmosButton atmosUpButton" title="Go to the parent directory">Up</div>
                <div class="atmosButton atmosCreateButton" title="Create directory">Create</div>
            </div>
            <div class="atmosButtonBar">
                <div class="atmosUploadContainer">
                    <div class="atmosButton atmosUploadButton" title="Upload files">Upload</div>
                    <input type="file" multiple="multiple" class="atmosUploadField" title="Select files to upload"/>
                </div>
                <div class="atmosButton atmosOpenButton" title="Open selected item(s)">Open</div>
                <div class="atmosButton atmosDownloadButton" title="Download selected item(s)">Download</div>
                <div class="atmosButton atmosDeleteButton" title="Delete selected item(s)">Delete</div>
                <div class="atmosButton atmosRenameButton" title="Rename selected item">Rename</div>
                <div class="atmosButton atmosMoveButton" title="Move selected item(s)">Move</div>
                <div class="atmosButton atmosShareButton" title="Share selected item with other people">Share</div>
                <div class="atmosButton atmosPropertiesButton" title="Properties of selected item">Properties</div>
                <div class="atmosButton atmosAclButton" title="ACL of selected item">ACL</div>
            </div>
        </div>
        <div class="atmosFileList">
            <div class="head">
                <div class="table">
                    <div class="row"><h4 class="cell atmosFileName atmosFileNameHeader">Name</h4><h4
                            class="cell atmosFileSize atmosFileSizeHeader">Size</h4><h4
                            class="cell atmosFileType atmosFileTypeHeader">Type</h4></div>
                </div>
            </div>
            <div class="body">
                <div class="table atmosFileListTable">
                    <div class="loading">Please wait...</div>
                    <div class="row">
                        <div class="atmosIcon cell"><span class="atmosFileIcon icon"></span></div>
                        <div class="atmosFileName cell"></div>
                        <div class="atmosFileSize cell">
                            <div class="atmosStatusBar"></div>
                        </div>
                        <div class="atmosFileType cell"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="atmosStatusMessage">Loading...</div>
    </div>
</div>


<div unselectable="on" class="atmosContextMenu atmosFileContextMenu">
    <div class="atmosContextMenuOption openOption">Open</div>
    <div class="atmosContextMenuOption downloadOption">Download</div>
    <div class="atmosContextMenuOption deleteOption">Delete</div>
    <div class="atmosContextMenuOption renameOption">Rename</div>
    <div class="atmosContextMenuOption moveOption">Move</div>
    <div class="atmosContextMenuOption shareOption">Share</div>
    <div class="atmosContextMenuOption propertiesOption">Properties</div>
</div>

<div unselectable="on" class="atmosContextMenu atmosDirectoryContextMenu">
    <div class="atmosContextMenuOption openOption">Open</div>
    <div class="atmosContextMenuOption deleteOption">Delete</div>
    <div class="atmosContextMenuOption renameOption">Rename</div>
    <div class="atmosContextMenuOption moveOption">Move</div>
    <div class="atmosContextMenuOption propertiesOption">Properties</div>
</div>

<div unselectable="on" class="atmosModalBackground"></div>
<div unselectable="on" class="atmosModalWindow">
    <div class="atmosTitleBar">
        <div class="atmosTitle">%{title}</div>
        <div class="atmosCloseButton">x</div>
    </div>
    <div class="atmosModalWindowContent"></div>
</div>

<div unselectable="on" class="atmosLoginPage">
    <div class="table">
        <div class="row">
            <div class="atmosLabel cell">Subtenant ID:</div>
            <div class="cell"><input type="text" class="atmosSubtenantField"/></div>
        </div>
        <div class="row">
            <div class="atmosLabel cell">User:</div>
            <div class="cell"><input type="text" class="atmosUserField"/></div>
        </div>
        <div class="row">
            <div class="atmosLabel cell">Secret:</div>
            <div class="cell"><input type="text" class="atmosSecretField"/></div>
        </div>
    </div>
    <div class="atmosButtonBar">
        <div class="atmosButton atmosLoginButton" title="Login">Login</div>
    </div>
</div>

<div class="atmosSharePage">
    <div unselectable="on" class="atmosShareExpirationWrapper">
        <div class="atmosLabel">How long will this URL remain active?</div>
        <input type="text" class="atmosExpirationCount"/>
        <select class="atmosExpirationUnit">
            <option>Hours</option>
            <option>Days</option>
            <option>Months</option>
            <option>Years</option>
        </select>
    </div>
    <div unselectable="on" class="atmosButtonBar">
        <div class="atmosButton atmosGenerateButton" title="Generate shareable URL">Generate</div>
    </div>
    <div class="atmosShareInstructions">Once generated, copy the URL below and share it with other people. Remember that
        this URL is public. Anyone you share it with can access this item without authenticating.
    </div>
    <div class="atmosShareUrl"></div>
</div>

<div class="atmosPropertiesPage">
    <div unselectable="on" class="atmosButtonBar">
        <div class="atmosButton atmosSaveButton" title="Save">Save</div>
        <div class="atmosButton atmosCancelButton" title="Cancel">Cancel</div>
    </div>
    <div class="atmosTableWrapper">
        <div class="atmosTableTitle">User Metadata</div>
        <div class="atmosButton atmosAddUserMetadataButton" title="Add a tag">Add</div>
        <div class="table atmosUserMetadataTable">
            <div class="row">
                <div class="cell atmosPropertyName">%{name}</div>
                <div class="cell"><input type="text" class="atmosPropertyValue" value="%{value}"/></div>
                <div class="atmosPropertyButton cell">
                    <div class="atmosButton atmosDeleteButton" title="Delete this tag">Delete</div>
                </div>
            </div>
        </div>
    </div>
    <div class="atmosTableWrapper">
        <div class="atmosTableTitle">Listable Metadata</div>
        <div class="atmosButton atmosAddListableMetadataButton" title="Add a tag">Add</div>
        <div class="table atmosListableMetadataTable">
        </div>
    </div>
    <div class="atmosTableWrapper">
        <div class="atmosTableTitle">System Metadata</div>
        <div class="table atmosSystemMetadataTable">
            <div class="row">
                <div class="cell atmosPropertyName">%{name}</div>
                <div class="cell atmosPropertyValue">%{value}</div>
            </div>
        </div>
    </div>
</div>

<div unselectable="on" class="atmosDirectoryPage">
    <div class="atmosButtonBar">
        <div class="atmosDirectoryDisplay"></div>
        <div class="atmosButton atmosUpButton" title="Up">Up</div>
        <div class="atmosButton atmosCreateButton" title="Create">Create</div>
    </div>
    <ul class="atmosDirectoryList">
        <li class="atmosDirectoryItem">%{name}</li>
    </ul>
    <div class="atmosButtonBar">
        <div class="atmosButton atmosSelectButton" title="Select">Select</div>
        <div class="atmosButton atmosCancelButton" title="Cancel">Cancel</div>
    </div>
</div>

<div class="atmosAclPage">
    <!--
    <div unselectable="on" class="atmosButtonBar">
        <div class="atmosButton atmosSaveButton" title="Save">Save</div>
        <div class="atmosButton atmosCancelButton" title="Cancel">Cancel</div>
    </div>
    -->
    <div class="atmosTableWrapper">
        <div class="atmosTableTitle">User ACLs</div>
        <!--<div class="atmosButton atmosAddUserAclButton" title="Give a user access">Add</div>-->
        <div class="table">
            <div class="row">
                <h4 class="cell atmosAclName atmosAclNameHeader">User Name</h4>
                <h4 class="cell atmosAclFC atmosAclFCHeader">Full</h4>
                <h4 class="cell atmosAclWRITE atmosAclWRITENameHeader">Write</h4>
                <h4 class="cell atmosAclREAD atmosAclREADNameHeader">Read</h4>
                <h4 class="cell atmosAclNONE atmosAclNONENameHeader">None</h4>
            </div>
        </div>
        <div class="table atmosAclTable atmosUserAclTable">
            <div class="row">
                <div class="cell atmosAclName">%{name}</div>
                <div class="cell atmosAclFC">
                    <input type="radio" name="user_%{name}" value="FULL_CONTROL" class="atmosAclValue"/>
                </div>
                <div class="cell atmosAclWRITE">
                    <input type="radio" name="user_%{name}" value="WRITE" class="atmosAclValue"/>
                </div>
                <div class="cell atmosAclREAD">
                    <input type="radio" name="user_%{name}" value="READ" class="atmosAclValue"/>
                </div>
                <div class="cell atmosAclNONE">
                    <input type="radio" name="user_%{name}" value="NONE" class="atmosAclValue"/>
                </div>
            </div>
        </div>
    </div>
    <div class="atmosTableWrapper">
        <div class="atmosTableTitle">Group ACLs</div>
        <!--<div class="atmosButton atmosAddGroupAclButton" title="Give a group access">Add</div>-->
        <div class="table">
            <div class="row">
                <h4 class="cell atmosAclName atmosAclNameHeader">Group Name</h4>
                <h4 class="cell atmosAclFC atmosAclFCHeader">Full</h4>
                <h4 class="cell atmosAclWRITE atmosAclWRITENameHeader">Write</h4>
                <h4 class="cell atmosAclREAD atmosAclREADNameHeader">Read</h4>
                <h4 class="cell atmosAclNONE atmosAclNONENameHeader">None</h4>
            </div>
        </div>
        <div class="table atmosAclTable atmosGroupAclTable">
            <div class="row">
                <div class="cell atmosAclName">%{name}</div>
                <div class="cell atmosAclFC">
                    <input type="radio" name="group_%{name}" value="FULL_CONTROL" class="atmosAclValue"/>
                </div>
                <div class="cell atmosAclWRITE">
                    <input type="radio" name="group_%{name}" value="WRITE" class="atmosAclValue"/>
                </div>
                <div class="cell atmosAclREAD">
                    <input type="radio" name="group_%{name}" value="READ" class="atmosAclValue"/>
                </div>
                <div class="cell atmosAclNONE">
                    <input type="radio" name="group_%{name}" value="NONE" class="atmosAclValue"/>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- disable ACL edit -->
<script type="text/javascript">
    $( '.atmosAclTable .atmosAclValue' ).each( function() {
        this.disabled = 'disabled';
    } );
</script>

</body>
</html>